<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{{ title }} - User Background</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <style type="text/css">
        body, html {
            margin:0;
            padding: 0;
        }

        body {
            margin: 10px auto;
            width: 80%;

            font: 12pt Arial, sans-serif;
            position: relative;
            background-color: white;
        }

        form{
            margin:0 auto;
            font-weight:bold;
        }

        .wrap{
            padding:5px 0;
            margin:20px 0;
        }

        .tip{
            padding-left:20px;
            float:left;
            text-align: left;
        }
        /* Style the navigation bar links */
        .navbar a {
          color: forestgreen;
          padding: 14px 20px;
          text-decoration: none;
          text-align: center;
        }

        /* Change color on hover */
        .navbar a:hover {
          background-color: #ddd;
          color: black;
        }

        input[type=checkbox], input[type=radio] {
              -webkit-appearance: none;
              appearance: none;
              width: 13px;
              height: 13px;
              margin: 0;
              cursor: pointer;
              vertical-align: bottom;
              background: #fff;
              border: 1px solid #dcdcdc;
              -webkit-border-radius: 1px;
              -moz-border-radius: 1px;
              border-radius: 1px;
              -webkit-box-sizing: border-box;
              -moz-box-sizing: border-box;
              box-sizing: border-box;
              position: relative;
        }

        input[type=checkbox]:active,
          input[type=radio]:active {
          border-color: #c6c6c6;
          background: #ebebeb;
        }

        input[type=checkbox]:hover {
          border-color: #c6c6c6;
          -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,0.1);
          -moz-box-shadow: inset 0 1px 1px rgba(0,0,0,0.1);
          box-shadow: inset 0 1px 1px rgba(0,0,0,0.1);
        }

        input[type=radio] {
          -webkit-border-radius: 1em;
          -moz-border-radius: 1em;
          border-radius: 1em;
          width: 15px;
          height: 15px;
        }

        input[type=checkbox]:checked,
          input[type=radio]:checked {
          background: #fff;
        }

        input[type=radio]:checked::after {
          content: '';
          display: block;
          position: relative;
          top: 3px;
          left: 3px;
          width: 7px;
          height: 7px;
          background:forestgreen;
          -webkit-border-radius: 1em;
          -moz-border-radius: 1em;
          border-radius: 1em;
        }

        input[type=checkbox]:checked::after {
          content: url(//ssl.gstatic.com/ui/v1/menu/checkmark.png);
          display: block;
          position: absolute;
          top: -6px;
          left: -5px;
        }

        input[type=checkbox]:focus {
          outline: none;
          border-color:#4d90fe;
        }

    </style>
</head>
<body>

        <div class="navbar" align="center">
            <a href="{{ url_for('user_information') }}">Go back</a>
            <a id="next" >Next</a>
        </div>

        <form id="question1" class="question" align="right">
            <div class="wrap">
              <label class="tip">How often will you watch a movie</label>
              <input type="radio" name="question1" value="1"/>several days
              <input type="radio" name="question1" value="2"/>once a week
              <input type="radio" name="question1" value="3"/>once a month
            </div>
        </form>

        <div style="margin: 30px 8px 20px 6px;border-top:1px dotted #C0C0C0;"></div>

        <form id="question2" class="question" align="right">
            <div class="wrap">
              <label class="tip">How often will you visit a movie recommendation website</label>
              <input type="radio" name="question2" value="1"/>several days
              <input type="radio" name="question2" value="2"/>once a week
              <input type="radio" name="question2" value="3"/>once a month
            </div>
        </form>

        <div style="margin: 30px 8px 20px 6px;border-top:1px dotted #C0C0C0;"></div>

        <form id="question3" class="question" align="right">
            <div class="wrap">
              <label class="tip">Do you know Recommendation System</label>
              <input type="radio" name="question3" value="1"/>No
              <input type="radio" name="question3" value="2"/>a little
              <input type="radio" name="question3" value="3"/>Yes
            </div>
        </form>

        <div style="margin: 30px 8px 20px 6px;border-top:1px dotted #C0C0C0;"></div>

        <form id="question4" class="question" align="right">
            <div class="wrap">
              <label class="tip">Do you know Explainable Recommendation System</label>
              <input type="radio" name="question4" value="1"/>No
              <input type="radio" name="question4" value="2"/>a little
              <input type="radio" name="question4" value="3"/>Yes
            </div>
        </form>

        <div style="margin: 30px 8px 20px 6px;border-top:1px dotted #C0C0C0;"></div>

        <form id="question5" class="question" align="right">
            <div class="wrap">
              <label class="tip">How often do you use any Recommend System</label>
              <input type="radio" name="question5" value="1"/>several days
              <input type="radio" name="question5" value="2"/>once a week
              <input type="radio" name="question5" value="3"/>once a month
            </div>
        </form>

        <div style="margin: 30px 8px 20px 6px;border-top:1px dotted #C0C0C0;"></div>

         <form id="question6" class="question" align="right">
            <div class="wrap">
              <label class="tip">How would you describe your overall experience with Recommend System</label>
              <input type="radio" name="question6" value="1"/>not good
              <input type="radio" name="question6" value="2"/>general feeling
              <input type="radio" name="question6" value="3"/>good
            </div>
        </form>

        <div style="margin: 30px 8px 20px 6px;border-top:1px dotted #C0C0C0;"></div>

        <form id="question7" class="question" align="right">
            <div class="wrap">
              <label class="tip">Are you hopeful that our recommendation system will recommend the right movies to you?</label>
              <input type="radio" name="question7" value="1"/>No
              <input type="radio" name="question7" value="2"/>a little
              <input type="radio" name="question7" value="3"/>Yes
             </div>
        </form>



        <script type="text/javascript">
            $(document).ready(function(){
                var question_result_list = [0,0,0,0,0,0,0];
                $('.question').change(function () {

                    var question_name = this.id;
                    var searchStr = 'input:radio[name="question_name"]:checked'.replace('question_name',question_name);

                    var input_value = $(searchStr).val();
{#                    alert(input_value);#}
                    var question_result_list_index = parseInt(this.id.substr(8,1))-1;
                    question_result_list[question_result_list_index] = parseInt(input_value);
                });

                $('#next').on('click',function () {
                    if(question_result_list.join('').includes('0')){
                        alert('Please answer all the question!');
                    } else{
                        var data = {'user_id':sessionStorage.user_id,'question_result_list':question_result_list.join('')};
                        $.post('{{ url_for('question_result_transfer') }}',data,function (response) {
                            if(response){}
                        });
                        location.href = "{{ url_for('movie_preview') }}";
                    }

                });
            });

        </script>

</body>
</html>